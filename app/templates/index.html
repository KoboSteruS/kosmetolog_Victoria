{% extends "base.html" %}

{% block content %}

<!-- Блок 1: Первый экран (Hero) -->
<section class="hero" id="home">
    <div class="hero-background">
        <div class="hero-overlay"></div>
    </div>
    <div class="container">
        <div class="hero-content" data-aos="fade-up">
            <div class="hero-logo">
                <img src="{{ url_for('static', filename='images/logo-light.png') }}" alt="Виктория">
            </div>
            <h1 class="hero-title">Ваша красота —</h1>
            <h2 class="hero-subtitle">под медицинским контролем</h2>
            <p class="hero-description">
                Клиника косметологии и коррекции фигуры в центре Петрозаводска. Опыт ведущего косметолога - более 15 лет!
            </p>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-hero" onclick="openAppointmentModal()">
                    Записаться на консультацию
                </button>
                <a href="https://n1363166.yclients.com" target="_blank" class="btn btn-hero" style="background: transparent; border: 2px solid white; text-decoration: none;">
                    Онлайн-запись
                </a>
            </div>
        </div>
    </div>
    <div class="scroll-indicator">
        <a href="#about" class="scroll-link">
            <i class="fas fa-chevron-down"></i>
        </a>
    </div>
</section>

<!-- Блок 2: О клинике -->
<section class="about" id="about">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-subtitle">Добро пожаловать</span>
            <h2 class="section-title">О клинике</h2>
        </div>
        
        <!-- Галерея интерьера -->
        <div class="gallery" data-aos="fade-up" data-aos-delay="100">
            <div class="gallery-item">
                <img src="{{ url_for('static', filename='images/clinic1.jpg') }}" alt="Интерьер клиники">
            </div>
            <div class="gallery-item">
                <img src="{{ url_for('static', filename='images/clinic2.jpg') }}" alt="Кабинет косметолога">
            </div>
            <div class="gallery-item">
                <img src="{{ url_for('static', filename='images/clinic3.jpg') }}" alt="Зона ожидания">
            </div>
        </div>
        
        <!-- Ценности -->
        <div class="values">
            <div class="value-card" data-aos="fade-up" data-aos-delay="100">
                <div class="value-icon">
                    <i class="fas fa-certificate"></i>
                </div>
                <h3 class="value-title">Сертифицированные препараты</h3>
                <p class="value-description">
                    Работаем только с лицензированными средствами и оборудованием
                </p>
            </div>
            
            <div class="value-card" data-aos="fade-up" data-aos-delay="200">
                <div class="value-icon">
                    <i class="fas fa-star"></i>
                </div>
                <h3 class="value-title">Опытные специалисты</h3>
                <p class="value-description">
                    Дипломированные врачи-косметологи с медицинским образованием. Опыт ведущего косметолога - более 15 лет!
                </p>
            </div>
            
            <div class="value-card" data-aos="fade-up" data-aos-delay="300">
                <div class="value-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="value-title">Эстетика, комфорт, безопасность</h3>
                <p class="value-description">
                    Поддерживаем строгую гигиену и создаем приятную атмосферу
                </p>
            </div>
            
            <div class="value-card" data-aos="fade-up" data-aos-delay="400">
                <div class="value-icon">
                    <i class="fas fa-gift"></i>
                </div>
                <h3 class="value-title">Программа лояльности</h3>
                <p class="value-description">
                    Специальные предложения и скидки для постоянных клиентов
                </p>
            </div>
        </div>
        
        <div class="license-info" data-aos="fade-up">
            <div class="license-icon">
                <i class="fas fa-file-contract"></i>
            </div>
            <p class="license-text">
                Работаем по лицензии № Л041-01175-10/02696416, строго по медицинским стандартам. Команда с медицинским образованием и опытом более 15 лет!
            </p>
        </div>
    </div>
</section>

<!-- Блок 3: Услуги -->
<section class="services" id="services">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-subtitle">Что мы предлагаем</span>
            <h2 class="section-title">Наши услуги</h2>
        </div>
        
        <!-- Фильтр по категориям -->
        <div class="services-filter" data-aos="fade-up">
            <button class="filter-btn active" data-category="all">Все услуги</button>
            <button class="filter-btn" data-category="Косметология">Косметология</button>
            <button class="filter-btn" data-category="Пилинги">Пилинги</button>
            <button class="filter-btn" data-category="Массажи лица">Массажи</button>
            <button class="filter-btn" data-category="Инъекционные процедуры">Инъекции</button>
            <button class="filter-btn" data-category="Аппаратная косметология">Аппаратная</button>
        </div>
        
        <!-- Сетка услуг (показываем только 9 популярных) -->
        <div class="services-grid">
            {% for service in services[:9] %}
            <div class="service-card" data-category="{{ service.category }}" data-aos="fade-up">
                <div class="service-header">
                    <h3 class="service-name">{{ service.name }}</h3>
                    <span class="service-category">{{ service.category }}</span>
                </div>
                <div class="service-price">{{ service.price }}</div>
                <div class="service-actions">
                    <button class="btn btn-outline" onclick="openAppointmentModal('{{ service.name }}')">
                        Записаться
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Кнопка "Посмотреть все услуги" -->
        <div class="services-more" data-aos="fade-up" style="text-align: center; margin-top: 40px;">
            <button class="btn btn-primary" onclick="openAllServicesModal()" style="padding: 15px 40px; font-size: 16px;">
                <i class="fas fa-list"></i>
                Посмотреть все услуги ({{ services|length }})
            </button>
        </div>
    </div>
</section>

<!-- Блок 4: Специалисты -->
<section class="specialists" id="specialists">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-subtitle">Наша команда</span>
            <h2 class="section-title">Наши специалисты</h2>
        </div>
        
        <div class="specialists-grid">
            {% for specialist in specialists %}
            <div class="specialist-card" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}">
                <div class="specialist-image">
                    <img src="{{ url_for('static', filename='images/' + specialist.image) }}" alt="{{ specialist.name }}">
                    <div class="specialist-overlay">
                        <button class="btn btn-white" onclick="openAppointmentModal('', '{{ specialist.name }}')">
                            Записаться
                        </button>
                    </div>
                </div>
                <div class="specialist-info">
                    <h3 class="specialist-name">{{ specialist.name }}</h3>
                    <p class="specialist-position">{{ specialist.position }}</p>
                    <p class="specialist-specialization">{{ specialist.specialization }}</p>
                    <div class="specialist-experience">
                        <i class="fas fa-award"></i>
                        <span>{{ specialist.experience }}</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="certificates-link" data-aos="fade-up">
            <a href="#documents" class="btn btn-outline-primary">
                <i class="fas fa-file-certificate"></i>
                Все сертификаты
            </a>
        </div>
    </div>
</section>

<!-- Блок 5: Документы -->
<section class="documents" id="documents">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-subtitle">Правовая информация</span>
            <h2 class="section-title">Документы</h2>
        </div>
        
        <div class="documents-grid">
            <div class="document-card" data-aos="fade-up" data-aos-delay="100">
                <div class="document-icon">
                    <i class="fas fa-file-contract"></i>
                </div>
                <h3 class="document-title">Лицензия</h3>
                <p class="document-description">
                    Лицензия на осуществление медицинской деятельности
                </p>
                <a href="#" class="document-link">Скачать <i class="fas fa-download"></i></a>
            </div>
            
            <div class="document-card" data-aos="fade-up" data-aos-delay="200">
                <div class="document-icon">
                    <i class="fas fa-list-alt"></i>
                </div>
                <h3 class="document-title">Перечень услуг</h3>
                <p class="document-description">
                    Полный перечень платных медицинских услуг
                </p>
                <a href="#" class="document-link">Скачать <i class="fas fa-download"></i></a>
            </div>
            
            <div class="document-card" data-aos="fade-up" data-aos-delay="300">
                <div class="document-icon">
                    <i class="fas fa-user-shield"></i>
                </div>
                <h3 class="document-title">Политика конфиденциальности</h3>
                <p class="document-description">
                    Политика обработки персональных данных
                </p>
                <a href="#" class="document-link">Скачать <i class="fas fa-download"></i></a>
            </div>
            
            <div class="document-card" data-aos="fade-up" data-aos-delay="100">
                <div class="document-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <h3 class="document-title">Условия приема</h3>
                <p class="document-description">
                    Правила и условия приема пациентов
                </p>
                <a href="#" class="document-link">Скачать <i class="fas fa-download"></i></a>
            </div>
            
            <div class="document-card" data-aos="fade-up" data-aos-delay="200">
                <div class="document-icon">
                    <i class="fas fa-clipboard-check"></i>
                </div>
                <h3 class="document-title">Стандарты медицинской помощи</h3>
                <p class="document-description">
                    Стандарты оказания медицинской помощи
                </p>
                <a href="#" class="document-link">Скачать <i class="fas fa-download"></i></a>
            </div>
            
            <div class="document-card" data-aos="fade-up" data-aos-delay="300">
                <div class="document-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <h3 class="document-title">Программа государственных гарантий</h3>
                <p class="document-description">
                    Информация о программе государственных гарантий
                </p>
                <a href="#" class="document-link">Скачать <i class="fas fa-download"></i></a>
            </div>
        </div>
    </div>
</section>

<!-- Блок 6: Отзывы -->
<section class="reviews" id="reviews">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-subtitle">Что говорят наши клиенты</span>
            <h2 class="section-title">Отзывы</h2>
        </div>
        
        <div class="reviews-slider" id="reviewsSlider">
            {% if reviews %}
                {% for review in reviews %}
                <div class="review-card" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}">
                    <div class="review-header">
                        <div class="review-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="review-author">
                            <h4 class="review-name">{{ review.name }}</h4>
                            <div class="review-rating">
                                {% for i in range(review.rating) %}
                                <i class="fas fa-star"></i>
                                {% endfor %}
                                {% for i in range(5 - review.rating) %}
                                <i class="far fa-star"></i>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <p class="review-text">{{ review.text }}</p>
                    <div class="review-date">
                        {{ review.created_at.strftime('%d.%m.%Y') }}
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="no-reviews" data-aos="fade-up">
                    <i class="fas fa-comments"></i>
                    <p>Будьте первым, кто оставит отзыв о нашей клинике!</p>
                </div>
            {% endif %}
        </div>
        
        <div class="reviews-action" data-aos="fade-up">
            <button class="btn btn-primary" onclick="openReviewModal()">
                <i class="fas fa-pen"></i>
                Оставить отзыв
            </button>
        </div>
    </div>
</section>

<!-- Блок 7: Контакты и запись -->
<section class="contacts" id="contacts">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-subtitle">Свяжитесь с нами</span>
            <h2 class="section-title">Контакты</h2>
        </div>
        
        <div class="contacts-content">
            <!-- Карта -->
            <div class="contacts-map" data-aos="fade-right">
                <div id="map" class="map-container">
                    <!-- Яндекс.Карта - Германа Титова, 11, Петрозаводск -->
                    <iframe 
                        src="https://yandex.ru/map-widget/v1/?um=constructor%3Af2f1bc0f0d3b1e3e4c8d4e8b0a1c2d3e&amp;source=constructor&amp;ll=34.347520%2C61.784660&amp;z=17&amp;pt=34.347520,61.784660,pm2rdm" 
                        width="100%" 
                        height="100%" 
                        frameborder="0"
                        style="border-radius: 20px;">
                    </iframe>
                </div>
                
                <div class="contacts-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Адрес</h4>
                            <p>Германа Титова, 11, Петрозаводск</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Телефон</h4>
                            <p><a href="tel:+79110505334">8 (911) 050-53-34</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-globe"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Онлайн-запись</h4>
                            <p><a href="https://n1363166.yclients.com" target="_blank">n1363166.yclients.com</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-text">
                            <h4>График работы</h4>
                            <p>Каждый день: 10:00 - 20:00</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Форма обратной связи -->
            <div class="contacts-form" data-aos="fade-left">
                <h3 class="form-title">Записаться на прием</h3>
                <p class="form-subtitle">Заполните форму, и мы свяжемся с вами</p>
                
                <form id="contactForm" class="contact-form">
                    <div class="form-group">
                        <input type="text" name="name" required class="form-control" placeholder="Ваше имя *">
                    </div>
                    
                    <div class="form-group">
                        <input type="tel" name="phone" required class="form-control" placeholder="Телефон *">
                    </div>
                    
                    <div class="form-group">
                        <select name="service" class="form-control">
                            <option value="">Выберите услугу</option>
                            {% for service in services[:10] %}
                            <option value="{{ service.name }}">{{ service.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="agreed_to_processing" required>
                            <span>Я согласен(на) с политикой обработки персональных данных *</span>
                        </label>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="agreed_to_newsletter">
                            <span>Я согласен(на) на получение рассылки</span>
                        </label>
                    </div>
                    
                    <div class="form-message" id="contactFormMessage"></div>
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <span class="btn-text">Отправить заявку</span>
                        <span class="btn-loader" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock %}

